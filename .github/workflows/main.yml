# .github/workflows/main.yml

name: Readme Update

# ğŸš¨ í•„ìˆ˜ ìˆ˜ì •: ì›Œí¬í”Œë¡œìš°ê°€ Git ì €ì¥ì†Œì— ì“°ê¸° ê¶Œí•œì„ ê°€ì§€ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.
permissions:
  contents: write 

# Controls when the workflow will run
on:
  schedule:
    # ë§¤ì¼ UTC 0ì‹œ 0ë¶„ì— ì‹¤í–‰ (í•œêµ­ ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œëŠ” ì˜¤ì „ 9ì‹œì…ë‹ˆë‹¤.)
    - cron: "0 0 * * *" 

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: 16
          
      - name: Install dependencies
        run: npm ci
        
      - name: Update README
        run: npm start
        
      - name: Commit README
        run: |
          git add .
          git config --local user.email "kyie0913@naver.com" 
          git config --local user.name "june_kim" 
          
          # ë³€ê²½ ì‚¬í•­ì´ ì—†ì„ ê²½ìš° Git ì˜¤ë¥˜ë¥¼ ë°©ì§€í•˜ê³  "No changes to commit"ì„ ì¶œë ¥í•©ë‹ˆë‹¤.
          git commit -m "Update README.md" || echo "No changes to commit"
          
          # ì´ì „ì— ì„¤ì •í•œ ê¶Œí•œ(permissions) ë•ë¶„ì— ì´ pushê°€ ì„±ê³µí•©ë‹ˆë‹¤.
          git push
